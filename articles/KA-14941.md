---
title: Keine Aktualisierung des ACS bei der Erfassung von PII-Informationen
description: Beschreibung
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: KCS,pii acs Push-Nachrichten reagieren reaktiv auf native Android-iOS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/6/2022 1:35:14 PM
article-published-by: Ananya Kuthiala
article-published-date: 5/6/2022 1:43:52 PM
version-number: 2
article-number: KA-14941
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=f3b0bc5a-41cd-ec11-a7b5-0022480b639b
exl-id: d7e699a3-7619-4ca5-82b1-ffd54fb456b9
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 5%

---

# Keine Aktualisierung des ACS bei der Erfassung von PII-Informationen

## Beschreibung

Hintergrund - Möglicherweise haben Sie Push-Benachrichtigungen mithilfe des für iOS üblichen responsiven nativen SDK implementiert und [!DNL Android]. Möglicherweise können Sie auch eine Push-Benachrichtigung von Adobe Campaign Standard erstellen und erhalten

[https://aep-sdks.gitbook.io/docs/using-mobile-extensions/mobile-core/mobile-core-api-reference#collect-pii](https://aep-sdks.gitbook.io/docs/using-mobile-extensions/mobile-core/mobile-core-api-reference#collect-pii)


Problem - Die Tabelle des App-Abonnenten wird nicht mit den Informationen aktualisiert, die in der PII-Postback-Regel konfiguriert wurden.

Dafür haben wir den Code implementiert `ACPCore.collectPii({"myPii": "data"})`

- In Launch haben wir die Regel &quot;Mobile Core - Collect PII&quot;als Postback eingerichtet

- URL wird als konfiguriert `https://{%%camp-server%%}/rest/head/mobileAppV5/{%%pkey%%}/subscriptions/{%%mcid%%}`

- Post-Körper ist

```
{
  "marketingCloudId": "{%%mcid%%}",
  "cusCustomerNumber": "{%contextdata.customerNumber%}"
}
```

- -Feld im App-Abonnementdatensatz heißt `cusCustomerNumber`

- ausgeführter Code `ACPCore.collectPii({"cusCustomerNumber": "data"})`


## Auflösung


Es wurden zwei Probleme beobachtet, die gelöst wurden.



1 - Die gesendete Zuordnung wird `contextdata` , das wir so konfiguriert haben, dass das SDK versucht, ein Datenfeld mit dem Namen `customerNumber` aber es gibt keine Ursache dafür, dass `cusCustomerNumber` also stattdessen ändern `ACPCore.collectPii({"cus.CustomerNumber": "data"})` nach `ACPCore.collectPii({"customerNumber": "data"})`

Stellen Sie außerdem sicher, dass der Teil in diesem Code sowie der oben hervorgehobene Text auch mit seinem Code übereinstimmen sollten. Unten finden Sie das, was wir für diesen Kunden hatten.

```
setTimeout(() = {
                  ACPCore.collectPii({"customerNumber": "data"});
                  console.log('collectPii');
                }, 2000);
```


2 - Nach der Änderung konnten wir immer noch nicht sehen, wie Daten in der App-Abonnementtabelle gespeichert wurden. Daher wurde die Datenerfassung über die [!DNL Charles] -Tool abgeschlossen ist und Sie möglicherweise das folgende Problem bemerken

```
{
    "marketingCloudId": "0000000000000000",
    "cus.CustomerNumber": "data"
}
```

RST-360011 Es ist ein Fehler aufgetreten - wenden Sie sich an Ihren Administrator.
`cusCustomerNumber` -Eigenschaft nicht gültig für `nms:appSubscriptionRcp:appSubscriptionRcpDetail` Ressource.

Wenn wir uns die Datenbank für diese Tabelle ansehen, sehen wir die folgenden Spalten.



Tabelle `public.nmsappsubscriptionrcp`

```
Column                      |           Type           | Collation | Nullable | Default

-----------------------------+--------------------------+-----------+----------+---------

iappsubscriptionrcpid       | integer                  |           | not null | 0

icreatedbyid                | integer                  |           | not null | 0

idisabled                   | smallint                 |           | not null | 0

imobileappid                | integer                  |           | not null | 0

imodifiedbyid               | integer                  |           | not null | 0

ipushplatform               | smallint                 |           | not null | 0

sdevicebrand                | character varying(128)   |           |          |

sdeviceid                   | character varying(128)   |           |          |

sdevicemanufacturer         | character varying(128)   |           |          |

sdevicemodel                | character varying(128)   |           |          |

sdevicename                 | character varying(128)   |           |          |

smarketingcloudid           | character varying(256)   |           |          |

ssystemlanguage             | character varying(128)   |           |          |

ssystemname                 | character varying(128)   |           |          |

ssystemversion              | character varying(128)   |           |          |

suserkey                    | character varying(128)   |           |          |

tscreated                   | timestamp with time zone |           |          |

tsdisabled                  | timestamp with time zone |           |          |

tslastmodified              | timestamp with time zone |           |          |

tsregistration              | timestamp with time zone |           |          |

scuscuscustomernumber       | character varying(127)   |           |          |

scusfirstname               | character varying(127)   |           |          |

scuslastname                | character varying(127)   |           |          |
```


Wie es jetzt aussieht, ist ein Feld, das nicht übereinstimmt. Ändern Sie den Code des POST-Hauptteils in Launch wie unten beschrieben und veröffentlichen Sie die Änderungen und werden zum Testen angefordert. Daher sollte ein Problem behoben werden.

```
{
"marketingCloudId": "{%%mcid%%}",
"cusCus.CustomerNumber": "{%contextdata.customerNumber%}"
}
```
