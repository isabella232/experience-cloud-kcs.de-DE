---
title: "IP-Adressen blockieren bei der [!DNL Apache HTTP Server] level?"
description: Beschreibung
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/block-ips-apache-http-server.html#remoteip_module"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 8:45:08 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 8:50:48 PM"
version-number: 8
article-number: KA-16446
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ad7893a3-6187-eb11-a812-000d3a593216"
exl-id: 70b66160-438a-4af1-9622-1e1d508cff2f
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '193'
ht-degree: 1%

---

# Blockieren von IP-Adressen bei der [!DNL Apache HTTP Server] Ebene?

## Beschreibung


Auf unserer Site kommt es zu einem Denial-of-Service-Angriff, Spam oder einem Hash. Blockieren von IP-Adressen bei der [!DNL Apache HTTP Server] (AEM Dispatcher)?


## Auflösung


Die meisten Web Application Firewalls (WAF), wie z. B. Mod Security, können Blockierungslisten von IP-Adressen. Wenn Sie [!DNL Apache HTTP Server] und möchte IPs blockieren, indem Sie die folgenden Schritte ausführen:

1. Erstellen Sie eine Datei mit dem Namen `block-offending-ips.conf` auf Ihrem Server.
2. Öffnen Sie die Datei in einem Editor und fügen Sie eine Location-Direktive hinzu, die alle verletzenden IPs daran hindert, auf die URLs zuzugreifen, die Sie blockieren möchten.  Es gibt zwei Optionen für den Inhalt der Datei unten
   1. Wenn die Anfrage (über CDN, Load Balancer usw.) bereitgestellt wird und sich die IP des Remote-Benutzers nur in einer Kopfzeile wie `X-Forwarded-For` dann kann diese Konfiguration verwendet werden.  Beachten Sie, dass diese Konfiguration nicht gilt, wenn die `remoteip_module` konfiguriert ist.  `LocationMatch ` `"/.*"` ```Order Allow,Deny``Allow from all``SetEnvif X-Forwarded-For ``"10\.42\.137\.123"` `DenyAccess``SetEnvif X-Forwarded-For ``"122\.6\.218\.101"` `DenyAccess``#Repeat the "SetEnvlf X-Forwarded-For ..." for each IP you want to block``Deny from ``env``=DenyAccess``` `/LocationMatch`
   2. Wenn der Remote-Benutzer direkt auf [!DNL Apache] oder Sie verwenden `remoteip_module` (siehe 1) extrahieren und setzen Sie sie in [!DNL Apache] dann können Sie die Anforderungsfunktion von mod_authz_core direkt verwenden ([!DNL Apache] 2.4).


      `LocationMatch "/.*"`


      `RequireAll`


      `Require all granted`


      `Require not ip 10.42.137.123`


      `Require not ip 122.6.218.101`


      `#Repeat the "Require not ip ..." for each IP you want to block`


      `/RequireAll`


      `/LocationMatch`


      `1`


      `# Extract true client IP from header added by load balancer/CDN`


      `IfModule remoteip_module`


      `    # valid for ELB or ELB+CloudFront`


      `    RemoteIPHeader X-Forwarded-For`


      `/IfModule`
3. Datei ablegen `block-offending-ips.conf` in `/etc/conf.d` des Ordners [!DNL Apache] Webserver.
4. Starten Sie den [!DNL Apache HTTP Server].
