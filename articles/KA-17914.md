---
title: Allgemeine Protokolle
description: Beschreibung
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: 2/7/2022 5:14:01 PM
article-published-by: Roxann McGlumphy
article-published-date: 2/7/2022 5:14:27 PM
version-number: 2
article-number: KA-17914
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=12da6555-3988-ec11-93b0-0022480837ff
exl-id: 9a5b9746-be4f-4099-bdc2-8193ab4ad56d
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '818'
ht-degree: 1%

---

# Allgemeine Protokolle

## Beschreibung

In diesem Dokument werden gängige Protokolleinträge beschrieben, was sie bedeuten und wie sie behandelt werden.<br><br> <br><br>[Inhaltsverzeichnis](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-17490.html?lang=de)

## Auflösung


<b>GLOB-Warnung</b>

Beispielprotokolleintrag:


```
Fri Jul 20 03:35:09 2018 W pid 8300 (tid 139937910880384) /etc/httpd/conf/publish-filters.any:5: Allowing requests with globs is considered unsafe. Please consult the documentation at 'https://www.adobe.com/go/docs_dispatcher_config_en' on how to use attributes method/url/query/protocol/path/selectors/extension/suffix instead.
```


Seit dem Dispatcher-Modul 4.2.x haben sie begonnen, Personen davon abzuhalten, den folgenden Übereinstimmungstyp in ihrer Filterdatei zu verwenden:


```
/0041 { /type "allow" /glob "* *.css *"   }  ## enable css
```


Stattdessen sollte die neue Syntax wie folgt verwendet werden:


```
/0041 { /type "allow" /url "*.css" } ## enable css
```


Oder noch besser, um überhaupt keine Übereinstimmung mit einem Platzhalter-Matcher zu finden:


```
/0041 { /type "allow" /extension "css" } ## enable css
```


Wenn Sie eine der vorgeschlagenen Methoden durchführen, wird diese Fehlermeldung aus den Protokollen entfernt.



<b>Zurückweisungen filtern</b>

<b>Hinweis:</b>

Diese Einträge werden nicht immer angezeigt, selbst wenn Zurückweisungen auftreten, wenn die Protokollebene zu niedrig eingestellt ist. Setzen Sie sie auf Info oder debug , um sicherzustellen, dass Sie sehen, ob die Filter die Anforderungen ablehnen.

Beispielprotokolleintrag:


```
Fri Jul 20 17:25:48 2018 D pid 25939 (tid 139937517123328) Filter rejects: GET /libs/granite/core/content/login.html HTTP/1.1
```


oder:


```
Fri Jul 20 22:16:55 2018 I pid 128803 "GET /system/console/" ! - 8ms publishfarm/-
```


<b>Vorsicht:</b>

Beachten Sie, dass die Dispatcher-Regeln so eingerichtet wurden, dass sie diese Anforderung herausfiltern. In diesem Fall wurde die Seite, die besucht werden wollte, absichtlich abgelehnt, und wir möchten nichts daran ändern.

Wenn Ihr Protokoll wie folgt aussieht:


```
Fri Jul 20 17:26:47 2018 D pid 20051 (tid 139937517123328) Filter rejects: GET /etc/designs/exampleco/fonts/montserrat-regular/montserrat-regular-webfont.eot HTTP/1.1
```


Das lässt uns wissen, dass unsere Design-Datei .eot blockiert wird und wir werden das reparieren wollen.

Daher sollten wir uns unsere Filterdatei ansehen und die folgende Zeile hinzufügen, um .eot-Dateien durch zuzulassen.


```
/0011 { /type "allow" /method "GET" /extension 'eot' /path "/etc/designs/*" }
```


Dadurch kann die Datei durchlaufen und die Protokollierung verhindert werden.

Wenn Sie sehen möchten, was herausgefiltert wird, können Sie diesen Befehl in Ihrer Protokolldatei ausführen:


```
$ grep "Filter rejects\|\!" /var/log/httpd/dispatcher.log | awk 'match($0, /\/.*\//, m){ print m0 }' | awk '{ print $1 }'| sort | uniq -c | sort -rn
```




<b>Timeouts von Rendering</b>

Beispiel für einen Protokolleintrag für Socket-Timeout:


```
Fri Jul 20 22:31:15 2018 W pid 3648 Unable to connect socket to 10.43.3.40:4502: Connection timed out 
Fri Jul 20 22:31:15 2018 W pid 3648 Unable to connect to any backend in farm authorfarm
```


Dies tritt auf, wenn Sie die falsche IP-Adresse im Renderer-Abschnitt Ihrer Farm konfiguriert haben. Diese oder die AEM-Instanz reagierte nicht mehr oder hörte zu und der Dispatcher kann sie nicht erreichen.

Überprüfen Sie Ihre Firewall-Regeln und stellen Sie sicher, dass die AEM-Instanz ausgeführt und fehlerfrei ist.

Beispiel-Protokolleinträge für Gateway-Timeout:


```
Fri Jul 20 22:32:42 2018 I pid 3648 "GET /favicon.ico" 502 - 54034ms authorfarm/- 
Fri Jul 20 22:35:45 2018 I pid 3648 "GET /favicon.ico" 503 - 54234ms authorfarm/-
```


Das bedeutet, dass die AEM-Instanz über einen offenen Socket verfügte, den sie erreichen konnte, und mit der Antwort eine Zeitüberschreitung aufwies. Das bedeutet, dass Ihre AEM Instanz zu langsam oder nicht gesund war und der Dispatcher die konfigurierten Timeout-Einstellungen im Renderer-Abschnitt der Farm erreicht hat. Erhöhen Sie entweder die Timeout-Einstellung oder stellen Sie sicher, dass Ihre AEM ordnungsgemäß ausgeführt wird.



<b>Caching-Ebene</b>

Beispielprotokolleintrag:


```
Fri Jul 20 23:00:19 2018 I pid 16004 (tid 140134145820416) Current cache hit ratio: 87.94 %
```


Das bedeutet, dass Ihr Abruf von der Renderebene im Vergleich zum Cache gemessen wird. Sie möchten mehr als 80 % aus dem Cache erreichen und sollten die Hilfe befolgen [here](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-17458.html%3Flang%3Den):

Um diese Zahl so hoch wie möglich zu bekommen.

<b>Hinweis:</b>

Selbst wenn Sie Ihre Cache-Einstellungen in der Farm-Datei haben, um alles zwischenzuspeichern, das Sie möglicherweise zu häufig oder zu aggressiv löschen, kann dies zu einem geringeren Prozentsatz des Cache-Trefferverhältnisses führen



<b>Fehlendes Verzeichnis</b>

Beispiel für einen Protokolleintrag:


```
Fri Jul 20 14:02:43 2018 E pid 4728 (tid 140662586435328) Unable to create parent directory /mnt/var/www/author/libs/dam/content/asseteditors/formitems.overlay.infinity.json/application: Not a directory
```


Dies wird normalerweise angezeigt, wenn ein Element abgerufen wird, während gleichzeitig eine Cache-Löschung erfolgt.

Diese oder das Basisverzeichnis hat schlechte Berechtigungen dafür oder den falschen SELinux-Dateikontext für den Ordner, der Apache daran hindert, die neuen erforderlichen Unterverzeichnisse zu erstellen.

Bei Berechtigungsproblemen sehen Sie sich die Berechtigungen des Dokumentenstamms an und stellen Sie sicher, dass sie in etwa wie folgt aussehen:


```
dispatcher$ ls -la
```




<b>Vanity-URL nicht gefunden</b>

Beispiel für einen Protokolleintrag:


```
Thu Sep 27 17:35:11 2018 D pid 18936 Checking vanity URLs 
Thu Sep 27 17:35:11 2018 D pid 18936 Vanity URL file (/tmp/vanity_urls) not found, fetching... 
Thu Sep 27 17:35:11 2018 W pid 18936 Unable to fetch vanity URLs from 10.43.0.42:4503/libs/granite/dispatcher/content/vanityUrls.html: remote server returned: HTTP/1.1 404 Not Found
```


Dieser Fehler tritt auf, wenn Sie Ihren Dispatcher so konfiguriert haben, dass der dynamische automatische Filter Vanity-URLs zulässt, die Einrichtung jedoch noch nicht abgeschlossen ist, indem Sie das Paket auf dem AEM Renderer installieren.

Um dies zu beheben, installieren Sie bitte das vanityurl Feature Pack auf der AEM-Instanz und lassen Sie es vom anonymen Benutzer bereit zu. Details [here](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-17463.html%3Flang%3Den)

Eine funktionierende Vanity-URL-Einrichtung sieht wie folgt aus:


```
Thu Sep 27 17:40:29 2018 D pid 21844 Checking vanity URLs 
Thu Sep 27 17:40:29 2018 D pid 21844 Vanity URL file (/tmp/vanity_urls) not found, fetching... 
Thu Sep 27 17:40:29 2018 D pid 21844 Loaded 18 vanity URLs from file /tmp/vanity_urls
```




<b>Fehlende Farm</b>

Beispiel für einen Protokolleintrag:


```
Wed Nov 13 17:17:26 2019 W pid 19173:tid 140542738364160 No farm matches host 'we-retail.com', selected last farm 'publishfarm'
```


Dieser Fehler weist darauf hin, dass aus allen Farm-Dateien, die in /etc/httpd/conf.dispatcher.d/enabled_farms/ verfügbar sind, kein entsprechender Eintrag im Abschnitt /virtualhost gefunden werden konnte.

Die Farm-Dateien entsprechen dem Traffic basierend auf dem Domänennamen oder Pfad, in dem die Anfrage einging. Es verwendet glob-Abgleich, und wenn es nicht übereinstimmt, haben Sie entweder Ihre Farm nicht richtig konfiguriert, tippen Sie den Eintrag in die Farm ein oder haben den Eintrag komplett fehlt. Wenn die Farm keinen Einträgen entspricht, wird standardmäßig nur die letzte Farm verwendet, die im Stapel der enthaltenen Farm-Dateien enthalten ist. In diesem Beispiel war es 999_ams_publish_farm.any, der den allgemeinen Namen von publishfarm hat.

Im Folgenden finden Sie eine Beispiel-Farm-Datei /etc/httpd/conf.dispatcher.d/enabled_farms/300_weretail_publish_farm.any , die reduziert wurde, um die relevanten Teile hervorzuheben.



<b>Element bereitgestellt von</b>

Beispiel für einen Protokolleintrag:


```
Tue Nov 26 16:41:34 2019 I pid 9208 (tid 140112092391168) "GET /content/we-retail/us/en.html" - + 24034ms publishfarm/0
```


Die Seite wurde über die GET HTTP-Methode für den Inhalt /content/we-retail/us/en.html abgerufen und dauerte 24034 Millisekunden. Der Teil, auf den wir achten wollten, ist am Ende <b>publishfarm/0</b>. Sie werden feststellen, dass es zielgerichtet war und mit der publishfarm übereinstimmte. Die Anfrage wurde vom Renderer 0 abgerufen. Das bedeutet, dass diese Seite von AEM angefordert und dann zwischengespeichert werden musste. Jetzt fordern wir diese Seite erneut an und sehen, was mit dem Protokoll passiert.
